<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Multitenancy on Villanova | Villanova Developers</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="theme/favicon.png">
    <script src="theme/javascript/hotjar.js"></script>
    <script src="theme/javascript/zoominfo.js"></script>
    <meta name="description" content="Villanova Developers Docs">
    <meta property="og:title" content="Multitenancy on Villanova">
    <meta property="og:type" content="article">
    <meta property="twitter:site" content="@villanova">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="preload" href="/villanova_developers/assets/css/0.styles.2d15dd5e.css" as="style"><link rel="preload" href="/villanova_developers/assets/js/app.397acf0e.js" as="script"><link rel="preload" href="/villanova_developers/assets/js/8.6c5115e9.js" as="script"><link rel="preload" href="/villanova_developers/assets/js/1.e5b558c1.js" as="script"><link rel="preload" href="/villanova_developers/assets/js/18.62f191c9.js" as="script"><link rel="preload" href="/villanova_developers/assets/js/171.6d73fed2.js" as="script"><link rel="preload" href="/villanova_developers/assets/js/116.5cf71571.js" as="script"><link rel="preload" href="/villanova_developers/assets/js/119.32d131f9.js" as="script"><link rel="prefetch" href="/villanova_developers/assets/js/10.0a73ae30.js"><link rel="prefetch" href="/villanova_developers/assets/js/100.fce4a836.js"><link rel="prefetch" href="/villanova_developers/assets/js/101.e88daf1d.js"><link rel="prefetch" href="/villanova_developers/assets/js/102.cb281af6.js"><link rel="prefetch" href="/villanova_developers/assets/js/103.e3477ebc.js"><link rel="prefetch" href="/villanova_developers/assets/js/104.334240e3.js"><link rel="prefetch" href="/villanova_developers/assets/js/105.1c65edfb.js"><link rel="prefetch" href="/villanova_developers/assets/js/106.2d9e0254.js"><link rel="prefetch" href="/villanova_developers/assets/js/107.4328cff8.js"><link rel="prefetch" href="/villanova_developers/assets/js/108.0158b8e4.js"><link rel="prefetch" href="/villanova_developers/assets/js/109.047ce3cf.js"><link rel="prefetch" href="/villanova_developers/assets/js/11.144a8dff.js"><link rel="prefetch" href="/villanova_developers/assets/js/110.f28d4c8e.js"><link rel="prefetch" href="/villanova_developers/assets/js/111.bec89655.js"><link rel="prefetch" href="/villanova_developers/assets/js/112.a3231003.js"><link rel="prefetch" href="/villanova_developers/assets/js/113.b9b49a7a.js"><link rel="prefetch" href="/villanova_developers/assets/js/114.1d1fe79f.js"><link rel="prefetch" href="/villanova_developers/assets/js/115.a5fb7005.js"><link rel="prefetch" href="/villanova_developers/assets/js/117.622fb152.js"><link rel="prefetch" href="/villanova_developers/assets/js/118.6cca937a.js"><link rel="prefetch" href="/villanova_developers/assets/js/12.91bdbdcf.js"><link rel="prefetch" href="/villanova_developers/assets/js/120.91db3f3e.js"><link rel="prefetch" href="/villanova_developers/assets/js/121.921d9c70.js"><link rel="prefetch" href="/villanova_developers/assets/js/122.0002ec2b.js"><link rel="prefetch" href="/villanova_developers/assets/js/123.90893e75.js"><link rel="prefetch" href="/villanova_developers/assets/js/124.67f9cb3c.js"><link rel="prefetch" href="/villanova_developers/assets/js/125.cb4becca.js"><link rel="prefetch" href="/villanova_developers/assets/js/126.d0430850.js"><link rel="prefetch" href="/villanova_developers/assets/js/127.6db8b380.js"><link rel="prefetch" href="/villanova_developers/assets/js/128.66386dc0.js"><link rel="prefetch" href="/villanova_developers/assets/js/129.f3fd9bd2.js"><link rel="prefetch" href="/villanova_developers/assets/js/13.596b757b.js"><link rel="prefetch" href="/villanova_developers/assets/js/130.ef69221e.js"><link rel="prefetch" href="/villanova_developers/assets/js/131.2acf0440.js"><link rel="prefetch" href="/villanova_developers/assets/js/132.1fa4bb7c.js"><link rel="prefetch" href="/villanova_developers/assets/js/133.919670aa.js"><link rel="prefetch" href="/villanova_developers/assets/js/134.792cb92e.js"><link rel="prefetch" href="/villanova_developers/assets/js/135.306f5757.js"><link rel="prefetch" href="/villanova_developers/assets/js/136.86fbd139.js"><link rel="prefetch" href="/villanova_developers/assets/js/137.9e4dda42.js"><link rel="prefetch" href="/villanova_developers/assets/js/138.af9df18a.js"><link rel="prefetch" href="/villanova_developers/assets/js/139.3f611c79.js"><link rel="prefetch" href="/villanova_developers/assets/js/140.7944d438.js"><link rel="prefetch" href="/villanova_developers/assets/js/141.76e72afe.js"><link rel="prefetch" href="/villanova_developers/assets/js/142.469650b6.js"><link rel="prefetch" href="/villanova_developers/assets/js/143.b81cb014.js"><link rel="prefetch" href="/villanova_developers/assets/js/144.78f34153.js"><link rel="prefetch" href="/villanova_developers/assets/js/145.949449b3.js"><link rel="prefetch" href="/villanova_developers/assets/js/146.06107497.js"><link rel="prefetch" href="/villanova_developers/assets/js/147.f39153dc.js"><link rel="prefetch" href="/villanova_developers/assets/js/148.19353a49.js"><link rel="prefetch" href="/villanova_developers/assets/js/149.ba79cb2f.js"><link rel="prefetch" href="/villanova_developers/assets/js/150.6a446ecb.js"><link rel="prefetch" href="/villanova_developers/assets/js/151.c20d3896.js"><link rel="prefetch" href="/villanova_developers/assets/js/152.60833e33.js"><link rel="prefetch" href="/villanova_developers/assets/js/153.5bac06f6.js"><link rel="prefetch" href="/villanova_developers/assets/js/154.7af111c7.js"><link rel="prefetch" href="/villanova_developers/assets/js/155.0780f9d6.js"><link rel="prefetch" href="/villanova_developers/assets/js/156.a616fa99.js"><link rel="prefetch" href="/villanova_developers/assets/js/157.2ca6a6f8.js"><link rel="prefetch" href="/villanova_developers/assets/js/158.30e51518.js"><link rel="prefetch" href="/villanova_developers/assets/js/159.fe9d6136.js"><link rel="prefetch" href="/villanova_developers/assets/js/160.2d29f550.js"><link rel="prefetch" href="/villanova_developers/assets/js/161.f8e49ee7.js"><link rel="prefetch" href="/villanova_developers/assets/js/162.2d304a23.js"><link rel="prefetch" href="/villanova_developers/assets/js/163.3f9f2e56.js"><link rel="prefetch" href="/villanova_developers/assets/js/164.3b3e6592.js"><link rel="prefetch" href="/villanova_developers/assets/js/165.b4b29d5f.js"><link rel="prefetch" href="/villanova_developers/assets/js/166.be028d2d.js"><link rel="prefetch" href="/villanova_developers/assets/js/167.02c2952d.js"><link rel="prefetch" href="/villanova_developers/assets/js/168.59b78809.js"><link rel="prefetch" href="/villanova_developers/assets/js/169.ef4e7577.js"><link rel="prefetch" href="/villanova_developers/assets/js/17.e512691e.js"><link rel="prefetch" href="/villanova_developers/assets/js/170.8cc9df97.js"><link rel="prefetch" href="/villanova_developers/assets/js/172.63a06356.js"><link rel="prefetch" href="/villanova_developers/assets/js/173.07d66113.js"><link rel="prefetch" href="/villanova_developers/assets/js/174.06d0be6b.js"><link rel="prefetch" href="/villanova_developers/assets/js/175.10747b0b.js"><link rel="prefetch" href="/villanova_developers/assets/js/176.d45e3019.js"><link rel="prefetch" href="/villanova_developers/assets/js/177.ccaed90b.js"><link rel="prefetch" href="/villanova_developers/assets/js/178.408458e6.js"><link rel="prefetch" href="/villanova_developers/assets/js/179.35f6bc74.js"><link rel="prefetch" href="/villanova_developers/assets/js/180.a4c09172.js"><link rel="prefetch" href="/villanova_developers/assets/js/181.5911485b.js"><link rel="prefetch" href="/villanova_developers/assets/js/182.7e9b7b97.js"><link rel="prefetch" href="/villanova_developers/assets/js/183.97cdb115.js"><link rel="prefetch" href="/villanova_developers/assets/js/184.3c38802c.js"><link rel="prefetch" href="/villanova_developers/assets/js/185.2cd25d43.js"><link rel="prefetch" href="/villanova_developers/assets/js/186.6e1e7164.js"><link rel="prefetch" href="/villanova_developers/assets/js/187.1c84b4f0.js"><link rel="prefetch" href="/villanova_developers/assets/js/188.01ba812d.js"><link rel="prefetch" href="/villanova_developers/assets/js/189.98d2f7aa.js"><link rel="prefetch" href="/villanova_developers/assets/js/19.a24347b8.js"><link rel="prefetch" href="/villanova_developers/assets/js/190.eb556def.js"><link rel="prefetch" href="/villanova_developers/assets/js/191.465629e5.js"><link rel="prefetch" href="/villanova_developers/assets/js/192.8f1dbd08.js"><link rel="prefetch" href="/villanova_developers/assets/js/193.4acc93ae.js"><link rel="prefetch" href="/villanova_developers/assets/js/194.6c7fbaa3.js"><link rel="prefetch" href="/villanova_developers/assets/js/195.7058e488.js"><link rel="prefetch" href="/villanova_developers/assets/js/196.cb920c3e.js"><link rel="prefetch" href="/villanova_developers/assets/js/197.5afebc6e.js"><link rel="prefetch" href="/villanova_developers/assets/js/198.7d01b8ad.js"><link rel="prefetch" href="/villanova_developers/assets/js/199.f098aa75.js"><link rel="prefetch" href="/villanova_developers/assets/js/2.39d101e0.js"><link rel="prefetch" href="/villanova_developers/assets/js/20.3492e037.js"><link rel="prefetch" href="/villanova_developers/assets/js/200.14820b61.js"><link rel="prefetch" href="/villanova_developers/assets/js/201.26785730.js"><link rel="prefetch" href="/villanova_developers/assets/js/202.7d02b800.js"><link rel="prefetch" href="/villanova_developers/assets/js/203.9f102b81.js"><link rel="prefetch" href="/villanova_developers/assets/js/204.aca69488.js"><link rel="prefetch" href="/villanova_developers/assets/js/205.a99c992f.js"><link rel="prefetch" href="/villanova_developers/assets/js/206.ea9dc7f4.js"><link rel="prefetch" href="/villanova_developers/assets/js/207.a8cf9713.js"><link rel="prefetch" href="/villanova_developers/assets/js/208.b79eef74.js"><link rel="prefetch" href="/villanova_developers/assets/js/209.abd42dcb.js"><link rel="prefetch" href="/villanova_developers/assets/js/21.94c20d58.js"><link rel="prefetch" href="/villanova_developers/assets/js/210.b5e57fc4.js"><link rel="prefetch" href="/villanova_developers/assets/js/211.a61ff531.js"><link rel="prefetch" href="/villanova_developers/assets/js/212.6ee28f72.js"><link rel="prefetch" href="/villanova_developers/assets/js/213.58f3bf81.js"><link rel="prefetch" href="/villanova_developers/assets/js/214.05e49ce1.js"><link rel="prefetch" href="/villanova_developers/assets/js/215.92d1f179.js"><link rel="prefetch" href="/villanova_developers/assets/js/216.5cef2d13.js"><link rel="prefetch" href="/villanova_developers/assets/js/217.7792063f.js"><link rel="prefetch" href="/villanova_developers/assets/js/218.00a8c71d.js"><link rel="prefetch" href="/villanova_developers/assets/js/219.add0ea42.js"><link rel="prefetch" href="/villanova_developers/assets/js/22.5d32d53d.js"><link rel="prefetch" href="/villanova_developers/assets/js/220.8f3f43fe.js"><link rel="prefetch" href="/villanova_developers/assets/js/221.6b368399.js"><link rel="prefetch" href="/villanova_developers/assets/js/222.2020f780.js"><link rel="prefetch" href="/villanova_developers/assets/js/223.1ce649c0.js"><link rel="prefetch" href="/villanova_developers/assets/js/224.153c2540.js"><link rel="prefetch" href="/villanova_developers/assets/js/225.5b7cb5a5.js"><link rel="prefetch" href="/villanova_developers/assets/js/226.70445cec.js"><link rel="prefetch" href="/villanova_developers/assets/js/227.134414d0.js"><link rel="prefetch" href="/villanova_developers/assets/js/228.a728aab3.js"><link rel="prefetch" href="/villanova_developers/assets/js/229.438a2e75.js"><link rel="prefetch" href="/villanova_developers/assets/js/23.19db64e0.js"><link rel="prefetch" href="/villanova_developers/assets/js/230.33d30366.js"><link rel="prefetch" href="/villanova_developers/assets/js/231.0dcaa02f.js"><link rel="prefetch" href="/villanova_developers/assets/js/232.5bdd05d9.js"><link rel="prefetch" href="/villanova_developers/assets/js/233.62412be3.js"><link rel="prefetch" href="/villanova_developers/assets/js/234.16b653aa.js"><link rel="prefetch" href="/villanova_developers/assets/js/235.db649f96.js"><link rel="prefetch" href="/villanova_developers/assets/js/236.11a86b6c.js"><link rel="prefetch" href="/villanova_developers/assets/js/237.7904a8e6.js"><link rel="prefetch" href="/villanova_developers/assets/js/238.a6044b75.js"><link rel="prefetch" href="/villanova_developers/assets/js/239.86d554c4.js"><link rel="prefetch" href="/villanova_developers/assets/js/24.c5b831df.js"><link rel="prefetch" href="/villanova_developers/assets/js/240.ff757374.js"><link rel="prefetch" href="/villanova_developers/assets/js/241.ff6b9223.js"><link rel="prefetch" href="/villanova_developers/assets/js/242.c5191f46.js"><link rel="prefetch" href="/villanova_developers/assets/js/243.03ecd54e.js"><link rel="prefetch" href="/villanova_developers/assets/js/244.34dfefd3.js"><link rel="prefetch" href="/villanova_developers/assets/js/245.353b60ba.js"><link rel="prefetch" href="/villanova_developers/assets/js/246.7f944969.js"><link rel="prefetch" href="/villanova_developers/assets/js/247.5dde4824.js"><link rel="prefetch" href="/villanova_developers/assets/js/248.634ebec3.js"><link rel="prefetch" href="/villanova_developers/assets/js/249.5cfa6fa8.js"><link rel="prefetch" href="/villanova_developers/assets/js/25.688f20c3.js"><link rel="prefetch" href="/villanova_developers/assets/js/250.df97af3a.js"><link rel="prefetch" href="/villanova_developers/assets/js/251.689aaf05.js"><link rel="prefetch" href="/villanova_developers/assets/js/252.aaf7e427.js"><link rel="prefetch" href="/villanova_developers/assets/js/253.913f45ce.js"><link rel="prefetch" href="/villanova_developers/assets/js/254.6765f5c9.js"><link rel="prefetch" href="/villanova_developers/assets/js/255.34b84c7a.js"><link rel="prefetch" href="/villanova_developers/assets/js/256.91369121.js"><link rel="prefetch" href="/villanova_developers/assets/js/257.1a87891d.js"><link rel="prefetch" href="/villanova_developers/assets/js/258.a1653c35.js"><link rel="prefetch" href="/villanova_developers/assets/js/259.13075a54.js"><link rel="prefetch" href="/villanova_developers/assets/js/26.3ddabff3.js"><link rel="prefetch" href="/villanova_developers/assets/js/260.27940bbe.js"><link rel="prefetch" href="/villanova_developers/assets/js/261.a60f7a7a.js"><link rel="prefetch" href="/villanova_developers/assets/js/262.ffd61b09.js"><link rel="prefetch" href="/villanova_developers/assets/js/263.8ce77543.js"><link rel="prefetch" href="/villanova_developers/assets/js/264.33b8e640.js"><link rel="prefetch" href="/villanova_developers/assets/js/265.82c122ae.js"><link rel="prefetch" href="/villanova_developers/assets/js/266.8adf8f23.js"><link rel="prefetch" href="/villanova_developers/assets/js/267.22a5a9bb.js"><link rel="prefetch" href="/villanova_developers/assets/js/268.d17adb72.js"><link rel="prefetch" href="/villanova_developers/assets/js/269.ccc8f98d.js"><link rel="prefetch" href="/villanova_developers/assets/js/27.fdcfa82c.js"><link rel="prefetch" href="/villanova_developers/assets/js/270.c5f94a9a.js"><link rel="prefetch" href="/villanova_developers/assets/js/271.e555c4c7.js"><link rel="prefetch" href="/villanova_developers/assets/js/272.b8530f40.js"><link rel="prefetch" href="/villanova_developers/assets/js/273.ed1a7933.js"><link rel="prefetch" href="/villanova_developers/assets/js/274.22dbf6d0.js"><link rel="prefetch" href="/villanova_developers/assets/js/275.5a894f94.js"><link rel="prefetch" href="/villanova_developers/assets/js/276.502893c5.js"><link rel="prefetch" href="/villanova_developers/assets/js/277.3afff402.js"><link rel="prefetch" href="/villanova_developers/assets/js/278.1b322ba8.js"><link rel="prefetch" href="/villanova_developers/assets/js/279.361a44cf.js"><link rel="prefetch" href="/villanova_developers/assets/js/28.f6464d73.js"><link rel="prefetch" href="/villanova_developers/assets/js/280.b407939b.js"><link rel="prefetch" href="/villanova_developers/assets/js/281.c7c336f8.js"><link rel="prefetch" href="/villanova_developers/assets/js/282.e6b81b15.js"><link rel="prefetch" href="/villanova_developers/assets/js/283.bb2b3674.js"><link rel="prefetch" href="/villanova_developers/assets/js/284.7dd8b105.js"><link rel="prefetch" href="/villanova_developers/assets/js/285.39c3909a.js"><link rel="prefetch" href="/villanova_developers/assets/js/286.13a16011.js"><link rel="prefetch" href="/villanova_developers/assets/js/29.f52f832d.js"><link rel="prefetch" href="/villanova_developers/assets/js/3.c747b56f.js"><link rel="prefetch" href="/villanova_developers/assets/js/30.db3786d4.js"><link rel="prefetch" href="/villanova_developers/assets/js/31.b090eee3.js"><link rel="prefetch" href="/villanova_developers/assets/js/32.98cc0924.js"><link rel="prefetch" href="/villanova_developers/assets/js/33.b6f85834.js"><link rel="prefetch" href="/villanova_developers/assets/js/34.27a85fe5.js"><link rel="prefetch" href="/villanova_developers/assets/js/35.f660fa24.js"><link rel="prefetch" href="/villanova_developers/assets/js/36.59ece5e6.js"><link rel="prefetch" href="/villanova_developers/assets/js/37.c486c716.js"><link rel="prefetch" href="/villanova_developers/assets/js/38.54b60d58.js"><link rel="prefetch" href="/villanova_developers/assets/js/39.2d56b799.js"><link rel="prefetch" href="/villanova_developers/assets/js/4.5a2d9f83.js"><link rel="prefetch" href="/villanova_developers/assets/js/40.d464549b.js"><link rel="prefetch" href="/villanova_developers/assets/js/41.5e12234f.js"><link rel="prefetch" href="/villanova_developers/assets/js/42.322ddf38.js"><link rel="prefetch" href="/villanova_developers/assets/js/43.345d5663.js"><link rel="prefetch" href="/villanova_developers/assets/js/44.6a73521b.js"><link rel="prefetch" href="/villanova_developers/assets/js/45.77470064.js"><link rel="prefetch" href="/villanova_developers/assets/js/46.160f22e2.js"><link rel="prefetch" href="/villanova_developers/assets/js/47.adef88a0.js"><link rel="prefetch" href="/villanova_developers/assets/js/48.79aea5c3.js"><link rel="prefetch" href="/villanova_developers/assets/js/49.bbc6edca.js"><link rel="prefetch" href="/villanova_developers/assets/js/5.46b7a082.js"><link rel="prefetch" href="/villanova_developers/assets/js/50.a75e279b.js"><link rel="prefetch" href="/villanova_developers/assets/js/51.ff760498.js"><link rel="prefetch" href="/villanova_developers/assets/js/52.96b6d0fd.js"><link rel="prefetch" href="/villanova_developers/assets/js/53.33bd3ac6.js"><link rel="prefetch" href="/villanova_developers/assets/js/54.22090fda.js"><link rel="prefetch" href="/villanova_developers/assets/js/55.75cd7344.js"><link rel="prefetch" href="/villanova_developers/assets/js/56.6532df85.js"><link rel="prefetch" href="/villanova_developers/assets/js/57.1e48b3cc.js"><link rel="prefetch" href="/villanova_developers/assets/js/58.c0d39063.js"><link rel="prefetch" href="/villanova_developers/assets/js/59.20757af0.js"><link rel="prefetch" href="/villanova_developers/assets/js/6.c233909f.js"><link rel="prefetch" href="/villanova_developers/assets/js/60.e669090f.js"><link rel="prefetch" href="/villanova_developers/assets/js/61.d0b3a169.js"><link rel="prefetch" href="/villanova_developers/assets/js/62.2796dea9.js"><link rel="prefetch" href="/villanova_developers/assets/js/63.b061db95.js"><link rel="prefetch" href="/villanova_developers/assets/js/64.71a871e9.js"><link rel="prefetch" href="/villanova_developers/assets/js/65.d1f4c97c.js"><link rel="prefetch" href="/villanova_developers/assets/js/66.ca7b8a1d.js"><link rel="prefetch" href="/villanova_developers/assets/js/67.bac91c2f.js"><link rel="prefetch" href="/villanova_developers/assets/js/68.f573e89a.js"><link rel="prefetch" href="/villanova_developers/assets/js/69.7e2fa95c.js"><link rel="prefetch" href="/villanova_developers/assets/js/7.17a50295.js"><link rel="prefetch" href="/villanova_developers/assets/js/70.69fa671e.js"><link rel="prefetch" href="/villanova_developers/assets/js/71.1320a15f.js"><link rel="prefetch" href="/villanova_developers/assets/js/72.9c8d2a28.js"><link rel="prefetch" href="/villanova_developers/assets/js/73.4ee572e1.js"><link rel="prefetch" href="/villanova_developers/assets/js/74.8d1e46e7.js"><link rel="prefetch" href="/villanova_developers/assets/js/75.141d3c5f.js"><link rel="prefetch" href="/villanova_developers/assets/js/76.82f6220b.js"><link rel="prefetch" href="/villanova_developers/assets/js/77.c0ad8b35.js"><link rel="prefetch" href="/villanova_developers/assets/js/78.45af86ec.js"><link rel="prefetch" href="/villanova_developers/assets/js/79.a0bf1000.js"><link rel="prefetch" href="/villanova_developers/assets/js/80.05a3e478.js"><link rel="prefetch" href="/villanova_developers/assets/js/81.f3933b58.js"><link rel="prefetch" href="/villanova_developers/assets/js/82.03d26030.js"><link rel="prefetch" href="/villanova_developers/assets/js/83.c8d6b17a.js"><link rel="prefetch" href="/villanova_developers/assets/js/84.a5ae4e7d.js"><link rel="prefetch" href="/villanova_developers/assets/js/85.5069c7c1.js"><link rel="prefetch" href="/villanova_developers/assets/js/86.a9705461.js"><link rel="prefetch" href="/villanova_developers/assets/js/87.ed99978d.js"><link rel="prefetch" href="/villanova_developers/assets/js/88.45828898.js"><link rel="prefetch" href="/villanova_developers/assets/js/89.d25a306d.js"><link rel="prefetch" href="/villanova_developers/assets/js/9.4754d8f1.js"><link rel="prefetch" href="/villanova_developers/assets/js/90.bdc047a4.js"><link rel="prefetch" href="/villanova_developers/assets/js/91.3f1ef31e.js"><link rel="prefetch" href="/villanova_developers/assets/js/92.b59a4ff3.js"><link rel="prefetch" href="/villanova_developers/assets/js/93.1d515254.js"><link rel="prefetch" href="/villanova_developers/assets/js/94.f5835fd5.js"><link rel="prefetch" href="/villanova_developers/assets/js/95.727105b5.js"><link rel="prefetch" href="/villanova_developers/assets/js/96.54ff9f0b.js"><link rel="prefetch" href="/villanova_developers/assets/js/97.63f9914d.js"><link rel="prefetch" href="/villanova_developers/assets/js/98.da0a49cd.js"><link rel="prefetch" href="/villanova_developers/assets/js/99.dcbe4604.js"><link rel="prefetch" href="/villanova_developers/assets/js/vendors~docsearch.e94aca00.js"><link rel="prefetch" href="/villanova_developers/assets/js/vuejs-paginate.7def42e4.js">
    <link rel="stylesheet" href="/villanova_developers/assets/css/0.styles.2d15dd5e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="https://villanova.ai/" class="home-link"><img src="/villanova_developers/theme/Entando_Logo_Dark_Blue.svg" alt="Villanova Developers" class="logo"></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Developers" class="dropdown-title"><span class="title">Developers</span> <span class="arrow down"></span></button> <button type="button" aria-label="Developers" class="mobile-dropdown-title"><span class="title">Developers</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/villanova_developers/" class="nav-link">
  Home
</a></li><li class="dropdown-item"><!----> <a href="/villanova_developers/villanova10/docs/" class="nav-link">
  Docs
</a></li><li class="dropdown-item"><!----> <a href="/villanova_developers/villanova09/tutorials/" class="nav-link router-link-active">
  Tutorials
</a></li><li class="dropdown-item"><!----> <a href="https://forum.villanova.ai/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/Villanova-AI" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div> <div class="entando-navbar can-hide"><nav class="nav-links"><div class="nav-item"><a href="javascript:Villanova.versionedLink(&quot;/villanova09/docs&quot;);" target="_self" class="nav-link external">
  Docs
  <!----></a></div><div class="nav-item"><a href="javascript:Villanova.versionedLink(&quot;/villanova09/tutorials&quot;);" target="_self" class="nav-link external">
  Tutorials
  <!----></a></div><div class="nav-item"><a href="https://forum.villanova.ai/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Developers" class="dropdown-title"><span class="title">Developers</span> <span class="arrow down"></span></button> <button type="button" aria-label="Developers" class="mobile-dropdown-title"><span class="title">Developers</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/villanova_developers/" class="nav-link">
  Home
</a></li><li class="dropdown-item"><!----> <a href="/villanova_developers/villanova10/docs/" class="nav-link">
  Docs
</a></li><li class="dropdown-item"><!----> <a href="/villanova_developers/villanova09/tutorials/" class="nav-link router-link-active">
  Tutorials
</a></li><li class="dropdown-item"><!----> <a href="https://forum.villanova.ai/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/Villanova-AI" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="entando-version-links"><!----> <div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tutorials" class="dropdown-title"><span class="title">Tutorials</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tutorials" class="mobile-dropdown-title"><span class="title">Tutorials</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/villanova_developers/villanova10/tutorials/" class="nav-link">
  Villanova 1.0
</a></li><li class="dropdown-item"><!----> <a href="/villanova_developers/villanova09/tutorials/" class="nav-link router-link-active">
  Villanova 0.9
</a></li></ul></div></div></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Get Started</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Templates</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Create Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Curate and Share Applications</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Compose an Application</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Consume an Application</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/villanova_developers/villanova09/tutorials/consume/high-availability.html" class="sidebar-link">High Availability on Villanova</a></li><li><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html" aria-current="page" class="active sidebar-link">Multitenancy on Villanova</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#configure-the-primary-tenant" class="sidebar-link">Configure the Primary Tenant</a></li><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#configure-the-secondary-tenant" class="sidebar-link">Configure the Secondary Tenant</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#keycloak" class="sidebar-link">Keycloak</a></li><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#content-delivery-server-cds" class="sidebar-link">Content Delivery Server (CDS)</a></li><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#solr" class="sidebar-link">Solr</a></li><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#database" class="sidebar-link">Database</a></li><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#tenant-configurations" class="sidebar-link">Tenant Configurations</a></li><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#configure-the-villanovaapp" class="sidebar-link">Configure the VillanovaApp</a></li></ul></li><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#bundles" class="sidebar-link">Bundles</a></li><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#appendix" class="sidebar-link">Appendix</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#liquibase-options" class="sidebar-link">Liquibase Options</a></li><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#tenant-domains" class="sidebar-link">Tenant Domains</a></li><li class="sidebar-sub-header"><a href="/villanova_developers/villanova09/tutorials/consume/multitenancy.html#tomcat-options" class="sidebar-link">Tomcat Options</a></li></ul></li></ul></li><li><a href="/villanova_developers/villanova09/tutorials/consume/redis.html" class="sidebar-link">Redis Integration</a></li><li><a href="/villanova_developers/villanova09/tutorials/consume/cds.html" class="sidebar-link">Content Delivery Server for Multitenancy</a></li><li><a href="/villanova_developers/villanova09/tutorials/consume/solr.html" class="sidebar-link">Solr Integration</a></li><li><a href="/villanova_developers/villanova09/tutorials/consume/external-db-ms.html" class="sidebar-link">External DBMS for Multitenant Microservices</a></li><li><a href="/villanova_developers/villanova09/tutorials/consume/external-id-management.html" class="sidebar-link">Connect to an External Keycloak Instance</a></li><li><a href="/villanova_developers/villanova09/tutorials/consume/entando-operator.html" class="sidebar-link">Configure the Villanova Operator</a></li><li><a href="/villanova_developers/villanova09/tutorials/consume/invoking-api.html" class="sidebar-link">Invoking Villanova Core APIs</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Configure and Customize an Application</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="multitenancy-on-villanova"><a href="#multitenancy-on-villanova" class="header-anchor">#</a> Multitenancy on Villanova</h1> <p>This tutorial describes how to configure Villanova to serve multiple tenants. The primary tenant is configured first, then secondary tenants can be added. See <a href="/villanova_developers/villanova09/docs/consume/multitenancy.html">Multitenancy on Villanova</a> for details on concepts and architecture.</p> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <ul><li><a href="/villanova_developers/villanova09/docs/getting-started/">A working instance of Villanova 0.9 or higher</a> based on the Tomcat server image. This is the default <code>standardServerImage</code> for the <code>VillanovaApp</code> custom resource.</li></ul> <h2 id="configure-the-primary-tenant"><a href="#configure-the-primary-tenant" class="header-anchor">#</a> Configure the Primary Tenant</h2> <p>The primary tenant is configured with services for the content delivery server (CDS), cache management, and search capability. Follow the links below to complete the setup.</p> <ol><li><p><a href="/villanova_developers/villanova09/tutorials/consume/cds.html">Install and enable the Villanova Content Delivery Server (CDS)</a> to manage static resources.</p></li> <li><p><a href="/villanova_developers/villanova09/tutorials/consume/redis.html">Install and enable Redis</a> to handle caching and clustering.</p></li> <li><p><a href="/villanova_developers/villanova09/tutorials/consume/solr.html">Install and enable Solr integration</a> to enable enterprise search.</p></li></ol> <h2 id="configure-the-secondary-tenant"><a href="#configure-the-secondary-tenant" class="header-anchor">#</a> Configure the Secondary Tenant</h2> <p>For each secondary tenant, you will need to configure Keycloak, CDS, Solr, and a database schema. Then the ingress and a shared configuration Secret is created, after which the Villanova App Engine is modified to read that Secret.</p> <h4 id="definitions"><a href="#definitions" class="header-anchor">#</a> Definitions</h4> <table><thead><tr><th style="text-align:left;">Placeholder</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">YOUR-APP-NAME</td> <td style="text-align:left;">The name of the application, e.g., quickstart</td></tr> <tr><td style="text-align:left;">YOUR-HOST-NAME</td> <td style="text-align:left;">The base host name of the application, e.g., your-domain.com</td></tr> <tr><td style="text-align:left;">YOUR-TENANT-NAME</td> <td style="text-align:left;">The identifying name of the current tenant. In most cases, it will also be used to determine the base URL of the tenant. For example, yoursite results in yoursite.your-domain.com.</td></tr> <tr><td style="text-align:left;">YOUR-NAMESPACE</td> <td style="text-align:left;">The Kubernetes namespace in which your app is running</td></tr></tbody></table> <h3 id="keycloak"><a href="#keycloak" class="header-anchor">#</a> Keycloak</h3> <p>Each tenant requires its own Keycloak realm. Create the tenant-specific realm in the standard Villanova-deployed Keycloak instance.</p> <ol><li><a href="/villanova_developers/villanova09/tutorials/devops/backing-restoring-keycloak.html">Create a Backup of the Keycloak Realm</a></li> <li>Remove the <code>id</code> attributes so Keycloak will recognize the data as new entries upon importing:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sed</span> -i <span class="token string">''</span> <span class="token string">'/&quot;id&quot; : &quot;/ d'</span> keycloak-realm.json
</code></pre></div><ol start="3"><li>Replace the <code>realm</code> and <code>displayName</code> properties with YOUR-TENANT-NAME. Note: supply the original realm name if it was not named <code>entando</code>.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sed</span> -i <span class="token string">''</span> <span class="token string">'s/&quot;entando&quot;/&quot;YOUR-TENANT-NAME&quot;/g'</span> keycloak-realm.json
</code></pre></div><ol start="4"><li>Update the values of <code>redirectUris</code> and <code>webOrigins</code> to use YOUR-TENANT-NAME:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sed</span> -i <span class="token string">''</span> <span class="token string">'s/\/\/YOUR-APP-NAME\./\/\/YOUR-TENANT-NAME\.YOUR-APP-NAME\./g'</span> keycloak-realm.json
</code></pre></div><blockquote><p>This should transform the URIs from <code>http(s)://YOUR-APP-NAME.YOUR-HOST-NAME</code> to <code>http(s)://YOUR-TENANT-NAME.YOUR-APP-NAME.YOUR-HOST-NAME</code>.</p></blockquote> <ol start="5"><li><p>Log in to your <a href="/villanova_developers/villanova09/docs/consume/identity-management.html#authorization">Keycloak admin console</a>.</p></li> <li><p>Go to <code>Select realm</code> in the top left nav → <code>Add Realm</code> → select your keycloak-realm.json file. Click <code>Create</code>.</p></li> <li><p>In the new realm, go to <code>Clients</code> → Click the Client ID with <code>YOUR-APP_NAME</code>. Under the <code>Credentials</code> tab, regenerate the <code>Secret</code>.</p></li></ol> <blockquote><p>Note: The Secret for this client will be needed in the <code>entando-tenants-secret.yaml</code> for the property <code>kcClientSecret</code> value <code>YOUR-TENANT-KC-SECRET</code> below.</p></blockquote> <ol start="8"><li>Regenerate the Secret for Client ID <code>YOUR-APP-NAME-de</code>.</li></ol> <blockquote><p>Note: The Secret for this client is also required in the <code>entando-tenants-secret.yaml</code>, for the property <code>deKcClientSecret</code> value <code>YOUR-KEYCLOAK-CLIENT-SECRET</code> below.</p></blockquote> <ol start="9"><li><p>Go to <code>Manage</code> → <code>Users</code>. Click <code>View all users</code> and choose the <code>admin</code> user. Go to <a href="/villanova_developers/villanova09/docs/consume/identity-management.html#authorization">Role Mapping</a> and make this assignment: Client <code>realm-management</code> and Role <code>manage-realm</code>.</p></li> <li><p>(Optional) Go to <code>Credentials</code> and reset the password for the <code>admin</code> user.</p></li></ol> <h3 id="content-delivery-server-cds"><a href="#content-delivery-server-cds" class="header-anchor">#</a> Content Delivery Server (CDS)</h3> <p>Each tenant requires its own set of CDS resources. Follow the <a href="/villanova_developers/villanova09/tutorials/consume/cds.html">CDS tutorial</a> to prepare these resources for each secondary tenant.</p> <h3 id="solr"><a href="#solr" class="header-anchor">#</a> Solr</h3> <p>Each tenant requires a dedicated Solr core or collection. Follow the <a href="/villanova_developers/villanova09/tutorials/consume/solr.html#generate-the-core">Solr tutorial</a> to generate the core and schema for each secondary tenant.</p> <h3 id="database"><a href="#database" class="header-anchor">#</a> Database</h3> <p>Each tenant requires a new database schema for the Villanova tables related to the page structure, web content, widgets, etc. The following steps provide a way to export the schemas in a default installation using the Villanova-generated PostgreSQL instance. The exact commands will differ for external databases and other DBMS.</p> <ol><li>Determine the name of your PostgreSQL pod (YOUR-POSTGRESQL-POD):</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl get pods <span class="token operator">|</span> <span class="token function">grep</span> postgres
</code></pre></div><p>Example:</p> <div class="language- extra-class"><pre class="language-text"><code>default-postgresql-dbms-in-namespace-deployment-54bb664745lxllh
</code></pre></div><ol start="2"><li>Determine the names of the three source schemas:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl <span class="token builtin class-name">exec</span> -it YOUR-POSTGRESQL-POD -- psql -d default_postgresql_dbms_in_namespace_db -c <span class="token string">&quot;SELECT schema_name FROM information_schema.schemata WHERE schema_name LIKE '%portdb%' OR schema_name LIKE '%servdb%' OR schema_name LIKE '%dedb%';&quot;</span>
</code></pre></div><p>Example:</p> <div class="language- extra-class"><pre class="language-text"><code> quickstart_portdb_90419
 quickstart_servdb_90314
 quickstart_dedb_9472
</code></pre></div><p>Use these values for YOUR-SCHEMA-1, YOUR-SCHEMA-2, and YOUR-SCHEMA-3 in the following steps.</p> <ol start="3"><li>Export the schemas:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl <span class="token builtin class-name">exec</span> -it YOUR-POSTGRESQL-POD -- pg_dump -O -n YOUR-SCHEMA-1 -n YOUR-SCHEMA-2 -n YOUR-SCHEMA-3 default_postgresql_dbms_in_namespace_db <span class="token operator">&gt;</span> db_export.sql
</code></pre></div><ol start="4"><li>Replace the schema names in the export file:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sed</span> -i<span class="token string">''</span> <span class="token string">'s/YOUR-SCHEMA-1/YOUR-TENANT-NAME/g; s/YOUR-SCHEMA-2/YOUR-TENANT-NAME/g; s/YOUR-SCHEMA-3/YOUR-TENANT-NAME/g'</span> db_export.sql
</code></pre></div><p><strong>Note:</strong> The default Villanova implementation used for the primary tenant has two schemas (portdb and servdb) but these are combined into a single schema for secondary tenants.</p> <ol start="5"><li>Import the new schema into PostgreSQL:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl <span class="token builtin class-name">exec</span> -it YOUR-POSTGRESQL-POD -- psql -d default_postgresql_dbms_in_namespace_db <span class="token operator">&lt;</span> db_export.sql
</code></pre></div><ol start="6"><li>Truncate the Liquibase-managed log lock table to avoid issues with schema updates:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl <span class="token builtin class-name">exec</span> -it YOUR-POSTGRESQL-POD -- psql -d default_postgresql_dbms_in_namespace_db -c <span class="token string">&quot;TRUNCATE YOUR-TENANT-NAME.databasechangeloglock;&quot;</span>
</code></pre></div><h3 id="tenant-configurations"><a href="#tenant-configurations" class="header-anchor">#</a> Tenant Configurations</h3> <h4 id="tenant-ingress"><a href="#tenant-ingress" class="header-anchor">#</a> Tenant Ingress</h4> <ol><li>Download the template <code>entando-tenant-ingress.yaml</code>:</li></ol> <div class="language-sh"><pre><code>curl -sLO &quot;https://raw.githubusercontent.com/Villanova-AI/villanova-releases//dist/ge-1-1-6/samples/entando-tenant-ingress.yaml&quot;</code></pre></div> <ol start="2"><li>Create an ingress for your primary and each of your secondary tenants. Replace the placeholders with the appropriate values for each tenant. Remember, YOUR-TENANT-NAME will change for each ingress you create.
<ul><li>For every secondary tenant, add the following snippet with its tenant name under <code>metadata.labels</code>:<div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">EntandoTenant</span><span class="token punctuation">:</span> YOUR<span class="token punctuation">-</span>TENANT<span class="token punctuation">-</span>NAME
</code></pre></div></li></ul></li> <li>Apply each Ingress with the following command:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl apply -f YOUR-TENANT-NAME-INGRESS.yaml -n YOUR-NAMESPACE
</code></pre></div><h4 id="tenant-configuration-secret"><a href="#tenant-configuration-secret" class="header-anchor">#</a> Tenant Configuration Secret</h4> <p>A single Secret needs to be defined with the configuration for each of the tenants. If the <code>entando-tenants-secret.yaml</code> already exists, then it should be edited with the addition of a new JSON block for the tenant.</p> <ol><li>Download the template <code>entando-tenants-secret.yaml</code>:</li></ol> <div class="language-sh"><pre><code>curl -sLO &quot;https://raw.githubusercontent.com/Villanova-AI/villanova-releases//dist/ge-1-1-6/samples/entando-tenants-secret.yaml&quot;</code></pre></div> <ol start="2"><li><p>Replace the placeholders with the appropriate values for each of your tenants.</p></li> <li><p>Create the Secret:</p></li></ol> <div class="language- extra-class"><pre class="language-text"><code>kubectl apply -f entando-tenant-secret.yaml -n YOUR-NAMESPACE
</code></pre></div><h3 id="configure-the-villanovaapp"><a href="#configure-the-villanovaapp" class="header-anchor">#</a> Configure the VillanovaApp</h3> <p>The VillanovaApp has to be configured just once to point to the <code>entando-tenants-secret.yaml</code>. When additional tenants are added, the VillanovaApp deployment only needs to be restarted.</p> <ol><li>Scale down the VillanovaApp deployment to 0:</li></ol> <div class="language- extra-class"><pre class="language-text"><code>kubectl scale deploy/YOUR-APP-NAME-deployment --replicas=0 -n YOUR-NAMESPACE
</code></pre></div><ol start="2"><li>Edit the deployment YAML and add the environment variable to point to the K8s Secret.</li></ol> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">-env</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> ENTANDO_TENANTS
    <span class="token key atrule">valueFrom</span><span class="token punctuation">:</span>
      <span class="token key atrule">secretKeyRef</span><span class="token punctuation">:</span>
        <span class="token key atrule">name</span><span class="token punctuation">:</span> entando<span class="token punctuation">-</span>tenants<span class="token punctuation">-</span>secret
        <span class="token key atrule">key</span><span class="token punctuation">:</span> ENTANDO_TENANTS              
        <span class="token key atrule">optional</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre></div><ol start="3"><li>Scale the deployment back up to 1 or more replicas:</li></ol> <div class="language- extra-class"><pre class="language-text"><code>kubectl scale deploy/YOUR-APP-NAME-deployment --replicas=1 -n YOUR-NAMESPACE
</code></pre></div><ol start="4"><li>Confirm that the secondary tenant is working correctly. This may include testing the VillanovaApp itself (including digital assets delivered via CDS), the AppBuilder, and enterprise search for Solr. The tutorials for each service include verification steps that can be followed once the tenant configuration is fully in place.</li></ol> <h2 id="bundles"><a href="#bundles" class="header-anchor">#</a> Bundles</h2> <p>Once tenants are in order, <a href="/villanova_developers/villanova09/docs/curate/bundle-details.html">Villanova Bundles</a> can be deployed independently to each tenant from registries added in the App Builder. Bundles can be centralized in an <a href="/villanova_developers/villanova09/tutorials/solution/entando-hub.html">enterprise Villanova Hub</a> where all tenants can access them by <a href="/villanova_developers/villanova09/tutorials/solution/entando-hub.html#add-a-catalog-registry">adding the registry</a> in the Local Hub of the App Builder.</p> <p>When bundles are installed to any tenant, the Component Manager injects an <code>ENTANDO_TENANT_CODE</code>, an environment variable related to the tenant domain name, into every microservice, identifying which tenant it belongs to.</p> <p>To create or adapt bundles for multitenant applications, environment variables can be leveraged in the bundle descriptor to customize bundles. Microservices can be specified with an embedded or internal SQL DBMS, but if an <a href="/villanova_developers/villanova09/tutorials/consume/external-db-ms.html">external database</a> is required, a plugin configuration Secret will need to be configured.</p> <ul><li><a href="/villanova_developers/villanova09/tutorials/create/pb/publish-simple-bundle.html">Create and Publish a Bundle project</a></li> <li><a href="/villanova_developers/villanova09/docs/curate/bundle-details.html">Learn about Villanova Bundles</a></li> <li><a href="/villanova_developers/villanova09/tutorials/solution/entando-hub.html">Add an enterprise Villanova Hub</a></li> <li><a href="/villanova_developers/villanova09/tutorials/solution/entando-hub.html#add-a-catalog-registry">Add a Registry to you Local Hub</a></li> <li><a href="/villanova_developers/villanova09/tutorials/consume/external-db-ms.html">Configure External DBMS for Microservices</a></li></ul> <h2 id="appendix"><a href="#appendix" class="header-anchor">#</a> Appendix</h2> <h3 id="liquibase-options"><a href="#liquibase-options" class="header-anchor">#</a> Liquibase Options</h3> <p>Liquibase is the default for database management for multitenancy on Villanova, but this process can be modified with the following methods.</p> <p><strong>Apply the Strategy in the App Engine Deployment</strong></p> <p>Use this specification in the <code>entando-de-app</code> image to set the strategy for all tenants, including the primary and secondary tenants.</p> <ul><li><code>db.migration.strategy</code>: &quot;skip|disabled|auto|generate_sql&quot; # defaults to 'auto' which uses Liquibase to initialize checks and updates on the DBs</li></ul> <p><strong>Apply the Strategy for Secondary Tenants</strong><br>
For a secondary tenant, the <code>dbMigrationStrategy</code> value in the <code>entando-tenant-secret.yaml</code> can be modified to specify its behavior.</p> <ul><li><p><code>dbMigrationStrategy</code>: &quot;skip|disabled|auto|generate_sql&quot; # default is 'skip'; to skip the entire Liquibase process of checking databasechangelog tables and changeSetFiles</p></li> <li><p>If <code>dbMigrationStrategy</code> is not present inside the tenant configuration, it looks for the value in the <code>db.migration.strategy</code> system property.</p></li></ul> <h3 id="tenant-domains"><a href="#tenant-domains" class="header-anchor">#</a> Tenant Domains</h3> <p>A tenant can have multiple fully qualified domain names (FQDNs), as long as they are defined in the <code>fqdns</code> field of the tenant configuration secret. This field determines which tenant's configuration to use when an incoming request is made to the Villanova Application.</p> <p>Example:</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;fqdns&quot;: &quot;www.YOUR-HOST-NAME,blog.YOUR-HOST-NAME,news.YOUR-HOST-NAME&quot;
</code></pre></div><h3 id="tomcat-options"><a href="#tomcat-options" class="header-anchor">#</a> Tomcat Options</h3> <p>Entando's multitenancy application uses the Tomcat servlet container and provides a few optional parameters.</p> <p><strong>Enabling a Java Agent for Tomcat</strong><br>
To use a Java agent with your application, use initContainers with a PVC (PersistenVolumeClaim) to prepare the JAR file with the information required for the agent. Add the following environment variables to the <code>entando-de-app-tomcat</code> deployment to activate the agent and provide the agent code from the JAR file.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">AGENT_ENABLED</span><span class="token punctuation">:</span> <span class="token string">&quot;true&quot;</span> <span class="token comment"># if true, adds the agent options to tomcat, defaults to false</span>
<span class="token key atrule">AGENT_OPTS</span><span class="token punctuation">:</span> <span class="token string">&quot;-javaagent:~/YOUR-JARFILE.jar&quot;</span> <span class="token comment"># the jar file with the agent options to use, defaults to empty  </span>
</code></pre></div><p><strong>Manage Upload File Size Limitations</strong><br>
Add these environment variables to the <code>entando-de-app-tomcat</code> deployment to customize the application-server and file upload maximum sizes.</p> <ul><li><p>For the Tomcat application server, use <code>TOMCAT_MAX_POST_SIZE</code> to configure connector maxPostSize; the default value is 209,715,200 bytes. Enter the value in bytes.</p></li> <li><p>For the application, use <code>FILE_UPLOAD_MAX_SIZE</code> to configure the upload limit; the default value is 52,428,800 bytes. Enter the value in bytes.</p></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Villanova-AI/edit/main/vuepress/docs/villanova09/tutorials/consume/multitenancy.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/12/2025, 6:41:03 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/villanova_developers/villanova09/tutorials/consume/high-availability.html" class="prev">
        High Availability on Villanova
      </a></span> <span class="next"><a href="/villanova_developers/villanova09/tutorials/consume/redis.html">
        Redis Integration
      </a>
      →
    </span></p></div> </main></div> <div><script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="16a1fc12-1dc3-4d29-be0d-a10476fbdedc" type="text/javascript" async="async"></script> <script type="text/javascript" id="hs-script-loader" async="async" defer="defer" src="//js.hs-scripts.com/2788117.js"></script></div></div><div class="global-ui"></div></div>
    <script src="/villanova_developers/assets/js/app.397acf0e.js" defer></script><script src="/villanova_developers/assets/js/8.6c5115e9.js" defer></script><script src="/villanova_developers/assets/js/1.e5b558c1.js" defer></script><script src="/villanova_developers/assets/js/18.62f191c9.js" defer></script><script src="/villanova_developers/assets/js/171.6d73fed2.js" defer></script><script src="/villanova_developers/assets/js/116.5cf71571.js" defer></script><script src="/villanova_developers/assets/js/119.32d131f9.js" defer></script>
  </body>
</html>
