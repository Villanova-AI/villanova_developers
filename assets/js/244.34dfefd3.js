(window.webpackJsonp=window.webpackJsonp||[]).push([[244],{945:function(e,t,a){"use strict";a.r(t);var r=a(36),o=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"widgets-and-fragments"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#widgets-and-fragments"}},[e._v("#")]),e._v(" Widgets and Fragments")]),e._v(" "),a("p",[e._v("This tutorial covers the basics of how to create an Villanova widget and place it on a page. It also incorporates fragments, adding it to templates to make it easy to reuse.")]),e._v(" "),a("h2",{attrs:{id:"create-and-publish-a-widget"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-and-publish-a-widget"}},[e._v("#")]),e._v(" Create and Publish a Widget")]),e._v(" "),a("p",[e._v("For this example, you will use the App Builder to build and display a simple widget on a page. This is a quick introduction to one of the building blocks that make up composable applications.")]),e._v(" "),a("p",[e._v("For a more advanced example, check out how to "),a("a",{attrs:{href:"../create/ms/generate-microservices-and-micro-frontends"}},[e._v("generate microservices and micro frontends (MFEs)")]),e._v(", which includes how to build and deploy a micro frontend as a widget in Villanova.")]),e._v(" "),a("h3",{attrs:{id:"_1-create-a-widget"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-create-a-widget"}},[e._v("#")]),e._v(" 1. Create a widget")]),e._v(" "),a("ol",[a("li",[e._v("From the left navigation menu of the App Builder, go to "),a("code",[e._v("Components")]),e._v(" → "),a("code",[e._v("MFE & Widgets")])]),e._v(" "),a("li",[e._v("To create a new widget, click "),a("code",[e._v("Add")])]),e._v(" "),a("li",[e._v("Enter the following values:\n"),a("ul",[a("li",[e._v("en Title: "),a("code",[e._v("Hello World")])]),e._v(" "),a("li",[e._v("it Title: "),a("code",[e._v("Ciao Mondo")])]),e._v(" "),a("li",[e._v("Code: "),a("code",[e._v("MyHelloWorld")])]),e._v(" "),a("li",[e._v("Group: either "),a("code",[e._v("Administrators")]),e._v(" or "),a("code",[e._v("Free Access")])]),e._v(" "),a("li",[e._v("Icon: upload or select an icon of your choice")]),e._v(" "),a("li",[e._v("Custom UI: "),a("code",[e._v("<h2>Hello World</h2>")])])]),e._v(" "),a("blockquote",[a("p",[e._v("Note: the Custom UI Field is a FreeMarker template where you can enter raw HTML and include FreeMarker logic. This allows you to import JavaScript, CSS or basic HTML.")])])]),e._v(" "),a("li",[e._v("Click "),a("code",[e._v("Save")])])]),e._v(" "),a("h3",{attrs:{id:"_2-place-the-widget-on-a-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-place-the-widget-on-a-page"}},[e._v("#")]),e._v(" 2. Place the widget on a page")]),e._v(" "),a("ol",[a("li",[e._v("Go to "),a("code",[e._v("Pages")]),e._v(" →  "),a("code",[e._v("Management")]),e._v(" from the left navigation menu.")]),e._v(" "),a("li",[e._v("Create a "),a("RouterLink",{attrs:{to:"/villanova10/tutorials/compose/page-management.html#create-a-page"}},[e._v("new page")]),e._v(" or select an existing page to add the widget to.")],1),e._v(" "),a("li",[e._v("Click the corresponding Actions icon and choose "),a("code",[e._v("Design")]),e._v(" from the drop-down.")]),e._v(" "),a("li",[e._v("From the Widgets tab in the right pane, under the User list of widgets, drag and drop your new widget into an open frame on the page.")]),e._v(" "),a("li",[e._v("Click the "),a("code",[e._v("Preview")]),e._v(" button at the top to display your page.")]),e._v(" "),a("li",[e._v('Confirm that your page displays "Hello World".')])]),e._v(" "),a("h3",{attrs:{id:"_3-publish-the-updated-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-publish-the-updated-page"}},[e._v("#")]),e._v(" 3. Publish the updated page")]),e._v(" "),a("ol",[a("li",[e._v("Navigate back to the Page Designer")]),e._v(" "),a("li",[e._v("Below your application page, click "),a("code",[e._v("Publish")]),e._v(". Note that the Status icon for your page, the circle next to the page title, has changed from yellow to green to show its completed status.")])]),e._v(" "),a("h2",{attrs:{id:"create-and-update-a-ux-fragment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-and-update-a-ux-fragment"}},[e._v("#")]),e._v(" Create and Update a UX Fragment")]),e._v(" "),a("p",[e._v("A UX fragment is a way to reuse snippets of frontend code across multiple pages or widgets. Common elements such as basic HTML, JavaScript or FreeMarker logic can be stored as fragments and referenced via the "),a("code",[e._v("<@wp.fragment …")]),e._v(" tag.")]),e._v(" "),a("p",[e._v("The "),a("a",{attrs:{href:"#create-and-publish-a-widget"}},[e._v("create and publish a widget")]),e._v(" in the previous steps is a prerequisite for the next part of the tutorial.")]),e._v(" "),a("h3",{attrs:{id:"_1-create-a-new-fragment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-create-a-new-fragment"}},[e._v("#")]),e._v(" 1. Create a new fragment")]),e._v(" "),a("ol",[a("li",[e._v("Go to "),a("code",[e._v("Components")]),e._v(" → "),a("code",[e._v("UX Fragments")])]),e._v(" "),a("li",[e._v("At the bottom of the page, click "),a("code",[e._v("Add")])]),e._v(" "),a("li",[e._v("Enter the following field values:\n"),a("ul",[a("li",[e._v("Code: "),a("code",[e._v("test")])]),e._v(" "),a("li",[e._v("Gui Code: "),a("code",[e._v("<h2>Hello World</h2>")])])])]),e._v(" "),a("li",[e._v("Click "),a("code",[e._v("Save")])])]),e._v(" "),a("h3",{attrs:{id:"_2-identify-the-widget-s-page-template"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-identify-the-widget-s-page-template"}},[e._v("#")]),e._v(" 2. Identify the widget's page template")]),e._v(" "),a("ol",[a("li",[e._v("Now go to "),a("code",[e._v("Pages")]),e._v(" →  "),a("code",[e._v("Management")])]),e._v(" "),a("li",[e._v("From the Actions drop-down menu for your desired page, select "),a("code",[e._v("Details")])]),e._v(" "),a("li",[e._v("Click the "),a("code",[e._v("Info")]),e._v(" button to expand the page details")]),e._v(" "),a("li",[e._v('Note the Page Template used for your page, e.g., "single_frame_page"')])]),e._v(" "),a("h3",{attrs:{id:"_3-place-the-fragment-in-the-template"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-place-the-fragment-in-the-template"}},[e._v("#")]),e._v(" 3. Place the fragment in the template")]),e._v(" "),a("ol",[a("li",[e._v("Go to "),a("code",[e._v("Pages")]),e._v(" →  "),a("code",[e._v("Templates")]),e._v(" from the left nav")]),e._v(" "),a("li",[e._v("In the Actions drop-down menu for the noted Template, select "),a("code",[e._v("Edit")])]),e._v(" "),a("li",[e._v("In the "),a("code",[e._v("Template")]),e._v(" text box, add the following line within the "),a("code",[e._v("<body></body>")]),e._v(" tags:")])]),e._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("@wp.fragment")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("code")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("At the bottom of the page, click "),a("code",[e._v("Save")])])]),e._v(" "),a("h3",{attrs:{id:"_4-view-the-page-with-the-new-fragment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-view-the-page-with-the-new-fragment"}},[e._v("#")]),e._v(" 4. View the page with the new fragment")]),e._v(" "),a("ol",[a("li",[e._v("Now go to "),a("code",[e._v("Pages")]),e._v(" →  "),a("code",[e._v("Management")])]),e._v(" "),a("li",[e._v("From the Actions drop-down menu for your page, select "),a("code",[e._v("Preview")])])]),e._v(" "),a("blockquote",[a("p",[e._v("Note: The page will display the fragment "),a("code",[e._v("<h2> This is a fragment. </h2>")]),e._v(" with the HTML tags. By default, HTML tags embedded within a fragment are ignored, or 'escaped', so it renders like a string, exactly as it appears. You need to reverse this when you call the fragment to render it properly.")])]),e._v(" "),a("h3",{attrs:{id:"_5-update-the-fragment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-update-the-fragment"}},[e._v("#")]),e._v(" 5. Update the fragment")]),e._v(" "),a("ol",[a("li",[e._v("Back in the App Builder, go to "),a("code",[e._v("Pages")]),e._v(" →  "),a("code",[e._v("Templates")])]),e._v(" "),a("li",[e._v("From the Actions drop-down menu for the Template, select "),a("code",[e._v("Edit")])]),e._v(" "),a("li",[e._v("Replace the inserted tag in Step 3 with this to render the html properly:")])]),e._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("@wp.fragment")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("code")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("escapeXml")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),e._v("false/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),a("h3",{attrs:{id:"_6-view-the-page-with-the-updated-fragment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-view-the-page-with-the-updated-fragment"}},[e._v("#")]),e._v(" 6. View the page with the updated fragment")]),e._v(" "),a("ol",[a("li",[e._v("Return to "),a("code",[e._v("Pages")]),e._v(" →  "),a("code",[e._v("Management")])]),e._v(" "),a("li",[e._v("Click on the Actions icon and select "),a("code",[e._v("Preview")]),e._v(" for your test page")]),e._v(" "),a("li",[e._v("Confirm the fragment is rendered correctly")])]),e._v(" "),a("h2",{attrs:{id:"freemarker-basics-in-villanova"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#freemarker-basics-in-villanova"}},[e._v("#")]),e._v(" FreeMarker Basics in Villanova")]),e._v(" "),a("p",[e._v("FreeMarker is a powerful templating language that provides flexibility in how pages are rendered. It allows you to include conditional logic, inject information from the backend, check for query parameters and route to different pages. For example:")]),e._v(" "),a("ul",[a("li",[e._v("To check for a query parameter:\n"),a("code",[e._v("<#if RequestParameters.myParam?exists > …")])]),e._v(" "),a("li",[e._v("To check the current username:\n"),a("code",[e._v('<#if (Session.currentUser.username != "guest") >')])])]),e._v(" "),a("p",[e._v("Consider using "),a("a",{attrs:{href:"https://freemarker.apache.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("FreeMarker"),a("OutboundLink")],1),e._v(" for widgets that need to support dynamic behavior.")])])}),[],!1,null,null,null);t.default=o.exports}}]);