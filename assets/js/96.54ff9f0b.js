(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{508:function(e,t,o){e.exports=o.p+"assets/img/init-containers-screenshot.d39576a8.png"},811:function(e,t,o){"use strict";o.r(t);var a=o(36),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"villanova-deployment-structure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#villanova-deployment-structure"}},[e._v("#")]),e._v(" Villanova Deployment Structure")]),e._v(" "),a("p",[e._v("This page provides an overview of the key Villanova GitHub repositories with brief descriptions\nof how these repositories are realized in a running Villanova deployment. It also explores the architecture behind the Villanova Platform and how its functions are structured.")]),e._v(" "),a("h2",{attrs:{id:"villanova-operator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#villanova-operator"}},[e._v("#")]),e._v(" Villanova Operator")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("Villanova Operator")]),e._v(" coordinates the installation and configuration of all of the components of an Villanova Application.")]),e._v(" "),a("ul",[a("li",[e._v("GitHub: "),a("a",{attrs:{href:"https://github.com/Villanova-AI/villanova-k8s-app-controller",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/Villanova-AI/villanova-k8s-app-controller"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("DockerHub: "),a("a",{attrs:{href:"https://hub.docker.com/repository/docker/entando/entando-k8s-controller-coordinator",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/repository/docker/entando/entando-k8s-controller-coordinator"),a("OutboundLink")],1)])]),e._v(" "),a("h4",{attrs:{id:"customization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#customization"}},[e._v("#")]),e._v(" Customization")]),e._v(" "),a("p",[e._v("Use the "),a("RouterLink",{attrs:{to:"/villanova09/docs/reference/custom-resources.html"}},[e._v("Villanova custom resources")]),e._v(" to extend the platform.")],1),e._v(" "),a("h2",{attrs:{id:"database-init-containers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#database-init-containers"}},[e._v("#")]),e._v(" Database Init Containers")]),e._v(" "),a("p",[e._v("During installation, an Villanova Application needs to create and initialize several databases when deploying from a backup of your images.")]),e._v(" "),a("ul",[a("li",[e._v("GitHub: "),a("a",{attrs:{href:"https://github.com/Villanova-AI/villanova-k8s-dbjob",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/Villanova-AI/villanova-k8s-dbjob"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("DockerHub: "),a("a",{attrs:{href:"https://hub.docker.com/repository/docker/entando/entando-k8s-dbjob",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/repository/docker/entando/entando-k8s-dbjob"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("The screenshot below highlights the init containers for the Villanova Application schema creation, DB initialization, and component repository database.")]),e._v(" "),a("p",[a("img",{attrs:{src:o(508),alt:"Init Containers Screenshot"}})]),e._v(" "),a("p",[e._v("Many managed Kubernetes instances like OpenShift don’t display init containers on their dashboards. If you’re troubleshooting, the logs may provide some useful information. To fetch logs for an init container using kubectl, you must\npass the container name as an argument.")]),e._v(" "),a("p",[e._v("For example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("    kubectl logs YOUR-POD -c YOUR-CONTAINER-NAME -n YOUR-NAMESPACE        \n    kubectl logs default-sso-in-namespace-deployment-db-preparation-job-ddbdbddb-a  -c default-sso-in-namespace-deployment-db-schema-creation-job -n sprint1-rc\n")])])]),a("h4",{attrs:{id:"customization-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#customization-2"}},[e._v("#")]),e._v(" Customization")]),e._v(" "),a("p",[e._v("The init containers automatically restore a backup included in your application so that you can create custom images with your application setup.")]),e._v(" "),a("h2",{attrs:{id:"villanova-de-app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#villanova-de-app"}},[e._v("#")]),e._v(" Villanova-de-app")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("Villanova-de-app")]),e._v(" is a J2EE application and an instance of the "),a("a",{attrs:{href:"#entando-core"}},[e._v("Villanova-core")]),e._v(". It provides pathways for Villanova Components and the server image required by the Villanova Operator to manage the deployment. The pom.xml for the application reveals its dependencies.")]),e._v(" "),a("ul",[a("li",[e._v("GitHub: "),a("a",{attrs:{href:"https://github.com/Villanova/app-engine",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/Villanova/app-engine"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("DockerHub: "),a("a",{attrs:{href:"https://registry.hub.docker.com/r/entando/entando-de-app-tomcat",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://registry.hub.docker.com/r/entando/entando-de-app-tomcat"),a("OutboundLink")],1),e._v(",\n"),a("a",{attrs:{href:"https://registry.hub.docker.com/r/entando/entando-de-app-eap",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://registry.hub.docker.com/r/entando/entando-de-app-eap"),a("OutboundLink")],1),e._v(",\n"),a("a",{attrs:{href:"https://registry.hub.docker.com/r/entando/entando-de-app-wildfly",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://registry.hub.docker.com/r/entando/entando-de-app-wildfly"),a("OutboundLink")],1)])]),e._v(" "),a("h4",{attrs:{id:"customization-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#customization-3"}},[e._v("#")]),e._v(" Customization")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("Villanova-de-app")]),e._v(" is sometimes customized as part of an Villanova implementation.\nA customized image can include:")]),e._v(" "),a("ul",[a("li",[e._v("New APIs")]),e._v(" "),a("li",[e._v("Legacy Villanova plugins")]),e._v(" "),a("li",[e._v("New database tables")]),e._v(" "),a("li",[e._v("Other extensions to the "),a("code",[e._v("Villanova-core")])])]),e._v(" "),a("p",[e._v("In most cases, microservices should be used to extend the platform. However, legacy\nintegrations, extensions to the CMS, and migrations from earlier Villanova versions may require changes to the "),a("strong",[e._v("Villanova-de-app")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"app-builder"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-builder"}},[e._v("#")]),e._v(" App Builder")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("App Builder")]),e._v(" is the user-friendly frontend UI for the "),a("code",[e._v("entando-de-app")]),e._v(". A ReactJS application, it is served via Node in the default deployment. It communicates with the "),a("code",[e._v("entando-de-app")]),e._v(" and the Villanova Component Manager via "),a("RouterLink",{attrs:{to:"/villanova09/docs/consume/entando-apis.html"}},[e._v("REST\nAPIs")]),e._v(". The Component Manager provides information about bundles deployed to the Local Hub.")],1),e._v(" "),a("ul",[a("li",[e._v("GitHub: "),a("a",{attrs:{href:"https://github.com/Villanova-AI/app-builder",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/Villanova-AI/app-builder"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("DockerHub: "),a("a",{attrs:{href:"https://hub.docker.com/repository/docker/entando/app-builder/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/repository/docker/entando/app-builder/"),a("OutboundLink")],1)])]),e._v(" "),a("h4",{attrs:{id:"customization-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#customization-4"}},[e._v("#")]),e._v(" Customization")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("App Builder")]),e._v(" is customized as part of many Villanova implementations.\nIt can be customized via "),a("RouterLink",{attrs:{to:"/villanova09/tutorials/create/mfe/widget-configuration.html"}},[e._v("configuration micro frontends")]),e._v(" and "),a("RouterLink",{attrs:{to:"/villanova09/tutorials/create/mfe/epc.html"}},[e._v("Villanova Platform Capabilities (EPCs)")]),e._v(".")],1),e._v(" "),a("h2",{attrs:{id:"villanova-component-manager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#villanova-component-manager"}},[e._v("#")]),e._v(" Villanova Component Manager")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("Villanova Component Manager")]),e._v(" provides the link between the "),a("code",[e._v("entando-de-app")]),e._v(", or your custom core instance, and the Local Hub. It queries the Villanova Kubernetes service to fetch available\nbundles that have been deployed as custom resources inside the cluster.")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("Component Manager")]),e._v(" also administers the relationships between an Villanova Application and the\ninstalled plugins. This is seen in the plugin link custom resource in Kubernetes.")]),e._v(" "),a("ul",[a("li",[e._v("GitHub: "),a("a",{attrs:{href:"https://github.com/Villanova-AI/villanova-k8s-component-manager",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/Villanova-AI/villanova-k8s-component-manager"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("DockerHub: "),a("a",{attrs:{href:"https://hub.docker.com/repository/docker/entando/entando-component-manager/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/repository/docker/entando/entando-component-manager/"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"villanova-k8s-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#villanova-k8s-service"}},[e._v("#")]),e._v(" Villanova-k8s-service")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("Villanova-k8s-service")]),e._v(" acts as an abstraction layer to fetch data from Kubernetes APIs. It interacts with the Local Hub to show the available bundles, installs and manages microservice plugins, and\nmonitors the status of the installed VillanovaApp.")]),e._v(" "),a("ul",[a("li",[e._v("GitHub: "),a("a",{attrs:{href:"https://github.com/Villanova-AI/villanova-k8s-service",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/Villanova-AI/villanova-k8s-service"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("DockerHub: "),a("a",{attrs:{href:"https://hub.docker.com/repository/docker/entando/entando-k8s-service/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/repository/docker/entando/entando-k8s-service/"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"keycloak"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#keycloak"}},[e._v("#")]),e._v(" Keycloak")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("Villanova-keycloak")]),e._v(" project is an extension of the base Keycloak images. It provides default themes for Villanova, a customized realm and clients, and Oracle JDBC JARs for connecting to Oracle databases.")]),e._v(" "),a("ul",[a("li",[e._v("GitHub: "),a("a",{attrs:{href:"https://github.com/Villanova-AI/villanova-keycloak",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/Villanova-AI/villanova-keycloak"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("DockerHub: "),a("a",{attrs:{href:"https://hub.docker.com/repository/docker/entando/entando-keycloak/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/repository/docker/entando/entando-keycloak/"),a("OutboundLink")],1)])]),e._v(" "),a("h4",{attrs:{id:"customization-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#customization-5"}},[e._v("#")]),e._v(" Customization")]),e._v(" "),a("p",[e._v("The Keycloak image can be customized as part of an Villanova implementation. Some common extensions are:")]),e._v(" "),a("ul",[a("li",[e._v("Change the theme")]),e._v(" "),a("li",[e._v("Add default connections")]),e._v(" "),a("li",[e._v("Add default social logins")]),e._v(" "),a("li",[e._v("Add default clients")])]),e._v(" "),a("h2",{attrs:{id:"other-key-repositories"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#other-key-repositories"}},[e._v("#")]),e._v(" Other Key Repositories")]),e._v(" "),a("h3",{attrs:{id:"entando-core"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entando-core"}},[e._v("#")]),e._v(" entando-core")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("entando-core")]),e._v(" project is a J2EE application that exposes APIs for the Villanova CMS, including the Admin Console and the Portal UI project that performs the server-side composition for pages rendered via an Villanova Application. Note that only the composition is performed server-side. JavaScript code is rendered client-side. The "),a("strong",[e._v("entando-core")]),e._v(" is realized via an instance that includes the WAR files as dependencies, which are generated from the core build. In a default deployment, this is the "),a("code",[e._v("entando-de-app")]),e._v(".")]),e._v(" "),a("ul",[a("li",[e._v("GitHub: "),a("a",{attrs:{href:"https://github.com/entando/entando-core/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/entando/entando-core/"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("DockerHub: None (deployed to Maven Central)")])]),e._v(" "),a("h4",{attrs:{id:"customization-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#customization-6"}},[e._v("#")]),e._v(" Customization")]),e._v(" "),a("p",[e._v("For users familiar with versions prior to Villanova, there will be cases where the "),a("strong",[e._v("entando-core")]),e._v(" is customized.\nOften, these customizations will be delivered via a WAR overlay in the project instance.\nUsing a WAR overlay is a functional approach for users familiar with the process, but it is highly\nrecommended to extend the platform using microservices for new projects.")]),e._v(" "),a("h3",{attrs:{id:"entando-cms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entando-cms"}},[e._v("#")]),e._v(" entando-cms")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("entando-cms")]),e._v(" project is the App Builder (ReactJS) side of the Entando WCMS. It is bundled into the\nApp Builder at build time and is included in the default deployment of the App Builder in most cases.")]),e._v(" "),a("ul",[a("li",[e._v("GitHub: "),a("a",{attrs:{href:"https://github.com/entando/entando-cms/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/entando/entando-cms/"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("DockerHub: None (deployed to npm)")])]),e._v(" "),a("h4",{attrs:{id:"customization-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#customization-7"}},[e._v("#")]),e._v(" Customization")]),e._v(" "),a("p",[e._v("In some cases, the "),a("strong",[e._v("entando-cms")]),e._v(" may be customized if new custom features are added to CMS-specific\nfunctionality. However, most cases will use the more general App Builder extension points noted above.")]),e._v(" "),a("h3",{attrs:{id:"villanova-kubernetes-controllers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#villanova-kubernetes-controllers"}},[e._v("#")]),e._v(" Villanova Kubernetes Controllers")]),e._v(" "),a("p",[e._v("A number of controllers are available to the Villanova Operator to manage installations and\ncomponents in an Villanova Cluster. These are small and lightweight images that execute as\nrun-to-completion pods, managing the installation flow for different parts of the infrastructure. For more information on controllers, Villanova custom\nresources, and configuring your deployment, see\n"),a("RouterLink",{attrs:{to:"/villanova09/docs/reference/custom-resources.html"}},[e._v("Custom Resources")]),e._v(".")],1),e._v(" "),a("p",[e._v("GitHub:\n")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/Villanova-AI/villanova-k8s-plugin-controller",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/Villanova-AI/villanova-k8s-plugin-controller"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/Villanova-AI/villanova-k8s-app-controller",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/Villanova-AI/villanova-k8s-app-controller"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/Villanova-AI/villanova-k8s-app-plugin-link-controller",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/Villanova-AI/villanova-k8s-app-plugin-link-controller"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("DockerHub:")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://hub.docker.com/repository/docker/entando/entando-k8s-composite-app-controller/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/repository/docker/entando/entando-k8s-composite-app-controller/"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://hub.docker.com/repository/docker/entando/entando-k8s-plugin-controller/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/repository/docker/entando/entando-k8s-plugin-controller/"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://hub.docker.com/repository/docker/entando/entando-k8s-cluster-infrastructure-controller/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/repository/docker/entando/entando-k8s-cluster-infrastructure-controller/"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://hub.docker.com/repository/docker/entando/entando-k8s-app-controller/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/repository/docker/entando/entando-k8s-app-controller/"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://hub.docker.com/repository/docker/entando/entando-k8s-app-plugin-link-controller/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/repository/docker/entando/entando-k8s-app-plugin-link-controller/"),a("OutboundLink")],1)])]),e._v(" "),a("h4",{attrs:{id:"customization-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#customization-8"}},[e._v("#")]),e._v(" Customization")]),e._v(" "),a("p",[e._v("It is unlikely that the controllers will be customized as part of an Villanova implementation.")])])}),[],!1,null,null,null);t.default=n.exports}}]);