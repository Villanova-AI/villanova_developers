(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{540:function(e,t,n){e.exports=n.p+"assets/img/jhipster-jdl.613b27ea.png"},852:function(e,t,n){"use strict";n.r(t);var a=n(36),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"update-the-project-data-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update-the-project-data-model"}},[e._v("#")]),e._v(" Update the Project Data Model")]),e._v(" "),a("p",[e._v("This tutorial explains how to use the "),a("RouterLink",{attrs:{to:"/villanova09/docs/create/component-gen-overview.html"}},[e._v("Villanova Component Generator")]),e._v(" powered by "),a("a",{attrs:{href:"https://www.jhipster.tech/",target:"_blank",rel:"noopener noreferrer"}},[e._v("JHipster"),a("OutboundLink")],1),e._v(" to quickly update the data model for your Villanova Bundle project.")],1),e._v(" "),a("h2",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/villanova09/docs/getting-started/"}},[e._v("A working instance of Villanova")])],1),e._v(" "),a("li",[e._v("Verify dependencies with the "),a("RouterLink",{attrs:{to:"/villanova09/docs/getting-started/entando-cli.html#check-the-environment"}},[e._v("Villanova CLI")]),e._v(": "),a("code",[e._v("ent check-env develop")])],1),e._v(" "),a("li",[e._v("A "),a("RouterLink",{attrs:{to:"/villanova09/tutorials/create/ms/generate-microservices-and-micro-frontends.html"}},[e._v("Blueprint-generated bundle project")])],1)]),e._v(" "),a("h2",{attrs:{id:"tutorial"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tutorial"}},[e._v("#")]),e._v(" Tutorial")]),e._v(" "),a("p",[e._v("Steps 1 through 4 must be performed from the directory of the specific microservice,  e.g. YOUR-BUNDLE-PROJECT/microservices/conference-ms.")]),e._v(" "),a("ol",[a("li",[e._v("Use JHipster to extract the current application description. The resulting JHipster Domain Language (JDL) file contains your project's application configuration and entity definitions:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ent jhipster export-jdl export.jdl\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("To strip unnecessary information, create a new JDL file comprising only the elements that describe entities. If you followed the "),a("RouterLink",{attrs:{to:"/villanova09/tutorials/create/ms/generate-microservices-and-micro-frontends.html"}},[e._v("bundle project generation tutorial")]),e._v(", that could be as simple as creating a file named "),a("code",[e._v("conference.jdl")]),e._v(" that contains the following:")],1)]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("entity Conference {\n  name String\n  }\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Enhance this definition by adding fields, entities, table mappings, field validation, etc. This can be accomplished with the "),a("a",{attrs:{href:"https://www.jhipster.tech/jdl/intro",target:"_blank",rel:"noopener noreferrer"}},[e._v("online JDL-Studio or corresponding JHipster IDE plugins/extensions"),a("OutboundLink")],1),e._v(". For example:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("entity Conference {\n  name String required\n  location String\n  date ZonedDateTime\n}\n\nentity Session {\n  name String required\n  track Track required\n}\n\nenum Track {\n  BUSINESS, TECHNICAL\n}\n\nrelationship OneToMany {\n   Conference to Session\n}\n")])])]),a("p",[e._v("This content adds two fields to the Conference entity, creates the Session entity and an enumeration, and defines the relationship between the two entities. Below is the updated data model in JDL-Studio:")]),e._v(" "),a("p",[a("img",{attrs:{src:n(540),alt:"conference.jdl"}})]),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Import the JDL file into your application. You will be prompted with the option to generate MFEs if this was requested during project generation.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ent jhipster import-jdl conference.jdl\n")])])]),a("p",[e._v("If the default project structure has been retained, this step updates your data model, adds entries to Liquibase to upgrade the database schema during deployment, adds service methods to your microservice, adds fields to your MFEs, etc.")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("For pre-existing micro frontends, the component files need to be moved because they have been regenerated. From the bundle root directory:")]),e._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" microservices/conference-ms/ui/widgets/conference/tableWidget/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(".,"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("* microfrontends/conference-table\n")])])])]),e._v(" "),a("li",[a("p",[e._v("For each new micro frontend, use the ent CLI to add it to the bundle descriptor, relocate the component files, and add an API claim to extablish the connection. From the bundle root directory:")]),e._v(" "),a("ol",[a("li",[e._v("Add the new MFE and move it to the "),a("code",[e._v("microfrontends/YOUR-NEW-MFE")]),e._v(" folder:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ent bundle mfe add YOUR-NEW-MFE  \nmv microservices/conference-ms/ui/widgets/conference/YOUR-NEW-MFE/{.,}* microfrontends/YOUR-NEW-MFE\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Add an API claim to connect the new MFE to the pertinent microservice. If this is an extension of the Blueprint generated project, an API claim should connect the new MFE to the "),a("code",[e._v("conference-ms")]),e._v(" microservice.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ent bundle api add YOUR-NEW-MFE conference-api --serviceName=conference-ms --serviceUrl=http://localhost:8081\n")])])])])]),e._v(" "),a("p",[e._v("See the "),a("RouterLink",{attrs:{to:"/villanova09/tutorials/create/ms/generate-microservices-and-micro-frontends.html#configure-the-components"}},[e._v("Generate Microservices and Micro Frontends")]),e._v(" tutorial for step by step instructions to adjust the bundle.")],1),e._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[e._v("You can now build your updated project and "),a("RouterLink",{attrs:{to:"/villanova09/tutorials/create/ms/run-local.html"}},[e._v("run it locally")]),e._v(" or "),a("RouterLink",{attrs:{to:"/villanova09/tutorials/create/pb/publish-project-bundle.html"}},[e._v("deploy it to Villanova")]),e._v(". Definition enhancement through build and test can be repeated as many times as needed.")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);